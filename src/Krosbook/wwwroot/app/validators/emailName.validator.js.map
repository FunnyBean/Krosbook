{"version":3,"sources":["app/validators/emailName.validator.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA4C,eAAe,CAAC,CAAA;AAC5D,sBAAyC,gBAAgB,CAAC,CAAA;AAC1D,6BAA0B,0BAA0B,CAAC,CAAA;AASrD;IAKE,4BAAoB,WAAuB;QAL7C,iBAyBC;QApBqB,gBAAW,GAAX,WAAW,CAAY;QAFnC,kBAAa,GAAG,IAAI,CAAC;QAG3B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,SAAS,CACnC,UAAA,IAAI,IAAK,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA,CAAA,CAAC,EAClC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC5B,CAAC;IACJ,CAAC;IAED,qCAAQ,GAAR,UAAS,CAAa;QAGpB,EAAE,CAAA,CAAC,IAAI,CAAC,KAAK,CAAC,CACd,CAAC;YACC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,KAAK,CAAC;oBACjC,MAAM,CAAC,EAAC,iBAAiB,EAAE,IAAI,EAAC,CAAA;YACpC,CAAC;QACH,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IA9BH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,+DAA+D;YACzE,SAAS,EAAE;gBACT,EAAE,OAAO,EAAE,qBAAa,EAAE,WAAW,EAAE,iBAAU,CAAC,cAAM,OAAA,kBAAkB,EAAlB,CAAkB,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,0BAAW;aACxG;SACF,CAAC;;0BAAA;IA2BF,yBAAC;AAAD,CAzBA,AAyBC,IAAA;AAzBY,0BAAkB,qBAyB9B,CAAA","file":"app/validators/emailName.validator.js","sourcesContent":["import {Directive, forwardRef, OnInit} from '@angular/core';\r\nimport {NG_VALIDATORS, FormControl} from '@angular/forms';\r\nimport {UserService} from '../services/user.service';\r\n\r\n@Directive({\r\n  selector: '[validateEmailName][ngModel],[validateEmailName][formControl]',\r\n  providers: [\r\n    { provide: NG_VALIDATORS, useExisting: forwardRef(() => EmailNameValidator), multi: true }, UserService\r\n  ]\r\n})\r\n\r\nexport class EmailNameValidator{\r\n\r\n  private users;\r\n  private initialCValue = null;\r\n\r\n  constructor(private userService:UserService) {\r\n    this.userService.getUsers().subscribe(\r\n      data => {this.users = data.json()},\r\n      error => console.log(error)\r\n    );\r\n  }\r\n\r\n  validate(c:FormControl){\r\n    \r\n   \r\n    if(this.users)\r\n    {\r\n      for (var i = 0; i < this.users.length; i++) {\r\n        if (this.users[i].email == c.value)\r\n          return {validateEmailName: true}\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}