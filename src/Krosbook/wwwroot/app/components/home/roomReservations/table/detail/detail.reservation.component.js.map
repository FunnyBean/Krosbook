{"version":3,"sources":["app/components/home/roomReservations/table/detail/detail.reservation.component.ts"],"names":[],"mappings":"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","file":"app/components/home/roomReservations/table/detail/detail.reservation.component.js","sourcesContent":["import {Component, Input, Output, EventEmitter, OnInit} from '@angular/core';\r\nimport {ReservationService} from '../../../../../services/reservation.service';\r\nimport {UserService} from '../../../../../services/user.service';\r\nimport {Reservation} from '../../../../../models/reservation.model';\r\nimport {User} from '../../../../../models/user.admin.model';\r\nimport {TimeValidator, DateValidator} from '../../../../../validators/time.validator';\r\nimport {RepeatReservationComponent} from './repeat/repeat.reservation.component';\r\nimport {Repetition} from '../../../../../models/repetition.model';\r\nimport * as moment from 'moment';\r\nimport {Observable} from 'rxjs/Observable';\r\n\r\ndeclare var $: any;\r\n\r\n@Component({\r\n    selector: 'reservation-detail',\r\n    templateUrl: 'app/components/home/roomReservations/table/detail/detail.reservation.component.html',\r\n    styleUrls: ['app/components/home/roomReservations/table/detail/detail.reservation.component.css'],\r\n    directives: [TimeValidator, DateValidator, RepeatReservationComponent],\r\n    providers: [ReservationService]\r\n})\r\n\r\nexport class DetailReservationComponent implements OnInit {\r\n    @Input() reservationDetailId;\r\n    @Input() reservationType;\r\n    @Input() loggedUser;\r\n    @Input() usersList;\r\n    @Output() windowClose = new EventEmitter<boolean>();\r\n    @Output() updateData = new EventEmitter<boolean>();\r\n\r\n    private saving: boolean = false;\r\n\r\n    public data: Reservation = new Reservation();\r\n    public dateTime;\r\n    public endDateTime;\r\n    public error: string;\r\n    public canEdit: boolean = false;\r\n    public maxTime: number;\r\n    public emailInvitation: boolean = false;\r\n    public reserveGoToMeeting: boolean = false;\r\n    public repeating:boolean = false;\r\n    public repetitionData:Repetition = new Repetition();\r\n    public originDateTime:any;\r\n\r\n    constructor(private reservationService: ReservationService, private userService: UserService) {   \r\n     }\r\n\r\n    ngOnInit()\r\n    {\r\n        var thisDocument = this;\r\n        this.reservationService.getReservation(this.reservationType, this.reservationDetailId[0]).subscribe(\r\n            data => {\r\n                this.data = data.json();\r\n                this.originDateTime = this.data.dateTime;\r\n                this.reservationDetailId[4] = moment(this.reservationDetailId[4], \"DD.MM.YYYY\").hour(moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").hours()).minute(moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").minutes()).seconds(0).format(\"DD.MM.YYYY HH:mm:ss\");\r\n                if (this.data.roomReservationRepeaterId != null) {\r\n                    this.reservationService.getRepeatingReservation(this.reservationType, this.data.roomReservationRepeaterId).subscribe(\r\n                        data => {\r\n                            this.repetitionData = data.json();\r\n                            this.repetitionData.endDate = moment(this.repetitionData.endDate, \"YYYY-MM-DDTHH:mm:ss\").format(\"YYYY-MM-DD\");\r\n                            this.repetitionData.end = (this.repetitionData.appearance == null) ? \"date\" : \"appearance\";\r\n                            this.repeating = true;\r\n                            if (this.reservationDetailId[4] != \"Invalid date\") {\r\n                                this.data.dateTime = moment(this.reservationDetailId[4], \"DD.MM.YYYY HH:mm:ss\").format(\"YYYY-MM-DDTHH:mm\");\r\n                                this.updateEndTime();\r\n                            }\r\n                        }\r\n                    )\r\n                }   \r\n                this.dateTime = moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").format(\"DD.MM.YYYY HH:mm\");\r\n                this.data.length = this.data.length / 60;\r\n                this.authorizeActions();\r\n                this.updateMaxTime();\r\n                this.updateEndTime();\r\n            },\r\n            error => console.log(error)\r\n        );\r\n        $(document).on(\"keyup\", function (e) {\r\n            if (e.which == 27) {\r\n                if (thisDocument.reservationDetailId[3])\r\n                    thisDocument.windowClose.emit(false);\r\n                else thisDocument.deleteReservation();\r\n            }\r\n        });  \r\n    }\r\n\r\n    ngOnDestroy() {\r\n        $(document).unbind(\"keyup\");\r\n    }\r\n\r\n    updateMaxTime()\r\n    {\r\n        this.maxTime = ((18 - moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").hour()) * 60 - moment(this.data.dateTime).minute()) / 60;\r\n    }\r\n\r\n    updateEndTime()\r\n    {\r\n        if (this.canEdit)\r\n            this.endDateTime = moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").add(this.data.length * 60, 'minutes').format(\"YYYY-MM-DDTHH:mm\");\r\n        else this.endDateTime = moment(this.data.dateTime, \"YYYY-MM-DDTHH:mm\").add(this.data.length * 60, 'minutes').format(\"DD.MM.YYYY HH:mm\");\r\n    }\r\n\r\n    updateLength()\r\n    {\r\n        this.data.length = (moment(this.endDateTime, \"YYYY-MM-DDTHH:mm\").unix() - moment(this.data.dateTime).unix()) / 3600;\r\n    }\r\n\r\n    authorizeActions()\r\n    {\r\n        if (this.data.userId == this.loggedUser.id)\r\n            this.canEdit = true;\r\n        else {\r\n            for (var i = 0; i < this.loggedUser.roles.length; i++) {\r\n                if (this.loggedUser.roles[i].roleId == 1) {\r\n                    this.canEdit = true;\r\n                    break;\r\n                } \r\n            } \r\n        }\r\n    }\r\n\r\n    editReservation(form)\r\n    {\r\n        if(form.invalid || (form.pristine && !this.emailInvitation && !this.reserveGoToMeeting && !this.repeating && this.data.roomReservationRepeaterId == null)){\r\n            this.windowClose.emit(true);\r\n            return false;\r\n        }\r\n        this.saving = true;\r\n        \r\n        if(this.data.roomReservationRepeaterId)\r\n            this.data.dateTime = moment(this.data.dateTime).date(moment(this.originDateTime).date()).month(moment(this.originDateTime).month()).year(moment(this.originDateTime).year()).format(\"YYYY-MM-DDTHH:mm\");\r\n        \r\n        if (this.repeating) {\r\n            this.checkRepetitionFree().subscribe(\r\n                data => {\r\n                    if (!data)\r\n                        this.saveData(true);\r\n                    else {\r\n                        var errors = data.json();\r\n                        this.error = \"Na tieto dátumy nemožno vytvoriť rezerváciu: \";\r\n                        for (var error of errors)\r\n                            this.error += moment(error).format(\"DD.MM.YY HH:mm\") + \", \";\r\n                        this.saveData(false);\r\n                    }\r\n                }\r\n            );\r\n        } else this.saveData(true);    \r\n    }\r\n\r\n    saveData(closeWindow:boolean) {\r\n        var elementId = this.data.roomId, dayData;\r\n        this.reservationService.getReservations(this.reservationType, elementId, moment(this.data.dateTime).format(\"DD.MM.YYYY\"), moment(this.data.dateTime).add(1, 'days').format(\"DD.MM.YYYY\")).subscribe(\r\n            data => { dayData = data.json() },\r\n            error => console.log(error),\r\n            () => {\r\n                for (var i = 0; i < dayData.length; i++) {\r\n                    if (this.data.id == dayData[i].id)\r\n                        continue;\r\n                    var date = moment(dayData[i].dateTime), reservationTime = moment(this.data.dateTime).format(\"HH:mm\"), reservationTimeEnd = moment(this.data.dateTime).add(this.data.length * 60, 'minutes').format(\"HH:mm\"), time = date.format(\"HH:mm\"), endTime = date.add(dayData[i].length, 'minutes').format(\"HH:mm\");\r\n                    if ((reservationTime >= time && reservationTime < endTime) || (time >= reservationTime && time < reservationTimeEnd)) {\r\n                        this.error = \"Zvolený čas zasahuje do rezervácie iného používateľa.\";\r\n                        this.saving = false;\r\n                        return false;\r\n                    }\r\n                }\r\n\r\n                var repeaterId: any;\r\n                if (!this.repeating && this.data.roomReservationRepeaterId != null)\r\n                    repeaterId = null;\r\n                else repeaterId = this.data.roomReservationRepeaterId;\r\n\r\n                this.reservationService.editReservation(this.reservationType, this.data.id, this.data.name, elementId, this.data.userId, this.data.dateTime, this.data.length * 60, repeaterId, this.emailInvitation, this.reserveGoToMeeting).subscribe(\r\n                    data => { },\r\n                    error => {\r\n                        this.error = 'Na daný termín je v GoToMeeting naplánovaná už iná rezervácia.';\r\n                        console.log(\"error \" + error);\r\n                        this.saving = false;\r\n                    },\r\n                    () => {\r\n                        if (this.repeating) {\r\n                            if (this.data.roomReservationRepeaterId == null) {\r\n                                this.reservationService.addRepeatingReservation(this.reservationType, this.data.id, this.repetitionData.repetation, this.repetitionData.interval, this.repetitionData.end, this.repetitionData.appearance, this.repetitionData.endDate).subscribe(\r\n                                    error => { this.saving = false }\r\n                                )\r\n                            } else {\r\n                                this.reservationService.editRepeatingReservation(this.reservationType, this.data.roomReservationRepeaterId, this.data.id, this.repetitionData.repetation, this.repetitionData.interval, this.repetitionData.end, this.repetitionData.appearance, this.repetitionData.endDate).subscribe(\r\n                                    error => { this.saving = false }\r\n                                )\r\n                            }\r\n                        }\r\n                        else if (!this.repeating && this.data.roomReservationRepeaterId != null) {\r\n                            this.reservationService.deleteRepeatingReservation(this.reservationType, this.data.roomReservationRepeaterId).subscribe(\r\n                                data => {\r\n                                    this.data.roomReservationRepeaterId = null;\r\n                                },\r\n                                error => { this.saving = false }\r\n                            )\r\n                        }\r\n                        if (closeWindow)\r\n                            setTimeout(() => this.windowClose.emit(true), 1000);\r\n                        else {\r\n                            this.reservationDetailId[3] = 1;\r\n                            setTimeout(() => this.updateData.emit(true), 1000);\r\n                            setTimeout(() => this.ngOnInit(), 1000);\r\n                        }\r\n                        this.saving = false;\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    addNewReservationFromRepeating()\r\n    {\r\n        this.reservationService.addReservation(this.reservationType, this.data.roomId, 1, 'Rezervácia', moment(this.data.dateTime).format(\"DD.MM.YYYY HH:mm\"), this.data.length * 60).subscribe(\r\n            data => {          \r\n                this.reservationDetailId = [data.json().id, this.reservationDetailId[1],this.reservationDetailId[2], 0];  //okno na potvrdenie rezervacie      \r\n            },\r\n            error => { alert(error); },\r\n            () => { \r\n                this.windowClose.emit(true)\r\n            }\r\n        );\r\n    }\r\n\r\n    editOneRepeatingReservation(form)\r\n    {\r\n        if(form.pristine && !this.emailInvitation && !this.reserveGoToMeeting && !this.repeating && this.data.roomReservationRepeaterId == null){\r\n            this.windowClose.emit(true);\r\n            return false;\r\n        }\r\n        this.saving = true;\r\n        var elementId = this.data.roomId, dayData;\r\n        this.reservationService.getReservations(this.reservationType, elementId, moment(this.data.dateTime).format(\"DD.MM.YYYY\"), moment(this.data.dateTime).add(1, 'days').format(\"DD.MM.YYYY\")).subscribe(\r\n            data => { dayData = data.json() },\r\n            error => console.log(error),\r\n            () => {\r\n                for (var i = 0; i < dayData.length; i++) {\r\n                    if (this.data.id == dayData[i].id)\r\n                        continue;\r\n                    var date = moment(dayData[i].dateTime), reservationTime = moment(this.data.dateTime).format(\"HH:mm\"), reservationTimeEnd = moment(this.data.dateTime).add(this.data.length * 60, 'minutes').format(\"HH:mm\"), time = date.format(\"HH:mm\"), endTime = date.add(dayData[i].length, 'minutes').format(\"HH:mm\");\r\n                    if ((reservationTime >= time && reservationTime < endTime) || (time >= reservationTime && time < reservationTimeEnd)){\r\n                        this.error = \"Zvolený čas zasahuje do rezervácie iného používateľa.\";\r\n                        this.saving = false;\r\n                        return false;\r\n                    }\r\n                }\r\n                this.reservationService.editOneRepeatingReservation(this.data.id, this.reservationDetailId[4]).subscribe(\r\n                    () => {\r\n                        this.addNewReservationFromRepeating();\r\n                    }\r\n                );\r\n            }\r\n        );\r\n    }\r\n\r\n    deleteOneRepatingReservaion()\r\n    {\r\n        this.saving = true;\r\n        this.reservationService.editOneRepeatingReservation(this.data.id, this.reservationDetailId[4]).subscribe(\r\n            () => { this.windowClose.emit(true) }\r\n        );\r\n    }\r\n\r\n    deleteReservation() \r\n    {\r\n        this.reservationService.deleteReservation(this.reservationType, this.data.id).subscribe(\r\n            () => { this.windowClose.emit(true) },\r\n            error => console.log(error)\r\n        );\r\n    }\r\n\r\n    closeWindow()\r\n    {\r\n        this.windowClose.emit(false);\r\n    }\r\n\r\n    checkRepetitionFree()\r\n    {\r\n        return Observable.create(observer => {\r\n            this.reservationService.checkDupliciteRepeatingReservations(this.data.id, this.repetitionData.repetation, this.repetitionData.interval, this.repetitionData.appearance, this.repetitionData.end, this.repetitionData.endDate).subscribe(\r\n                data => {\r\n                    observer.next();\r\n                    observer.complete();\r\n                },\r\n                error => {\r\n                    observer.next(error);\r\n                    observer.complete();\r\n                }\r\n            );\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}