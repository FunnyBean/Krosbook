{"version":3,"sources":["app/components/home/roomReservations/table/table.reservations.component.ts"],"names":[],"mappings":"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","file":"app/components/home/roomReservations/table/table.reservations.component.js","sourcesContent":["import {Component, Input, OnInit, ViewChild, Inject} from '@angular/core';\r\nimport {ReservationService} from '../../../../services/reservation.service';\r\nimport {HolidayService} from '../../../../services/holiday.service';\r\nimport {DetailReservationComponent} from './detail/detail.reservation.component';\r\nimport * as moment from 'moment';\r\n\r\ndeclare var $: any;\r\n\r\n\r\n@Component({\r\n    selector: 'tbody',\r\n    templateUrl: 'app/components/home/roomReservations/table/table.reservations.component.html',\r\n    directives: [DetailReservationComponent],\r\n    providers: [ReservationService, HolidayService]\r\n})\r\n\r\nexport class TableReservationComponent implements OnInit {\r\n    @Input() data;\r\n    @Input() times;\r\n    @Input() reservationType;\r\n    @Input() usersList;\r\n    @Input() loggedUser;\r\n    @Input() week;\r\n    @Input() filterActive;\r\n    @Input() filterDateTime;\r\n    @Input() filterTimeLength;\r\n\r\n    public tableData = [];\r\n    public reservationsData;\r\n    public detailReset: boolean = false;\r\n    public reservationDetailId: Array<any> = [0, 0, 0, 0, 0];\r\n\r\n    private reservationInProgress: boolean = false;\r\n\r\n    constructor(private reservationService: ReservationService, private holidayService: HolidayService) { }\r\n\r\n    ngOnInit() {\r\n        this.updateData();\r\n        this.data.color = (this.data.color === undefined) ? '#337ab7' : this.data.color;\r\n        var thisDocument = this;\r\n        $(window).on(\"focus\", function () {\r\n            thisDocument.updateData();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        $(window).unbind(\"focus\");\r\n    }\r\n\r\n    fillTable() {\r\n        var table = '<tr><td colspan=\"6\" class=\"officeName\" style=\"background-color: ' + this.data.color + '\"><h4>' + this.data.name + '</h4></td></tr>', fromRow, fromCol, length = 1, isMouseDown = false, thisDocument = this, col, row, beforeRow = 0, lastCell;\r\n        for (var i = 0; i < this.times.length; i++) {\r\n            table += '<tr>';\r\n            table += '<td class=\"col-md-1 time\">' + this.times[i].time + '</td>';\r\n            for (var j = 0; j < this.tableData[this.times[i].time].length; j++) {\r\n                let cell = this.tableData[this.times[i].time][j];\r\n                let holiday: string = this.holidayService.isHoliday(moment().add(this.week, 'weeks').weekday(j + 1).format(\"DD/MM\"), moment().add(this.week, 'weeks').format(\"YYYY\"));\r\n                if (cell.long == null) {\r\n                    var filter: string = '';\r\n                    if (this.filterActive && moment(this.filterDateTime).format(\"DD.MM.YYYY\") == moment().add(this.week, 'weeks').weekday(j + 1).format(\"DD.MM.YYYY\") && moment(this.filterDateTime).format(\"HH:mm\") <= this.times[i].time && this.times[i].time < moment(this.filterDateTime).add(this.filterTimeLength * 60, 'minutes').format(\"HH:mm\"))\r\n                        filter = 'filterSelected';\r\n                    if (holiday) {\r\n                        if (i == 0)\r\n                            table += '<td class=\"col-md-2 holiday\">' + holiday + '</td>';\r\n                        else table += '<td class=\"col-md-2 holiday\"></td>';\r\n                    }\r\n                    else table += '<td class=\"col-md-2 empty ' + filter + '\"></td>';\r\n                } else {\r\n                    if (cell.reservationName == null) {\r\n                        table += '<td reservationId=\"' + cell.reservationId + '\" class=\"col-md-2 bg-primary full\"></td>';\r\n                    } else {\r\n                        table += '<td reservationId=\"' + cell.reservationId + '\" class=\"col-md-2 bg-primary full text-center\"><strong>' + cell.reservationName + '</strong> <small>' + cell.userName + '</small></td>';\r\n                    }\r\n                }\r\n            }\r\n            table += '</tr>';\r\n        }\r\n\r\n        //replacing old data with new table data\r\n        $(\".records\" + this.data.id + \" > tr\").remove();\r\n        $(\".records\" + this.data.id).prepend(table);\r\n\r\n        $(\".records\" + this.data.id + \" td.full\").on(\"click\", function (event) {\r\n            setTimeout(() => thisDocument.detailReset = true, 0);\r\n            var element = $(this);\r\n            var thisDate = moment().add(thisDocument.week, 'weeks').day(0).add($(this).index(), 'days').format(\"DD.MM.YYYY\");\r\n            var id = element.attr(\"reservationId\");\r\n            if (thisDocument.reservationDetailId[0] == 0 || thisDocument.reservationDetailId[0] != id) {\r\n                thisDocument.detailReset = false;\r\n                var horizontalPosition = (element.index() !== 5) ? (element.position().left).toString() + 'px' : (element.position().left + element.width() - 294).toString() + 'px';\r\n                thisDocument.reservationDetailId = [id, horizontalPosition, (element.position().top + $(\"#content\").scrollTop() + 25).toString() + 'px', 1, thisDate];\r\n            }\r\n            else {\r\n                thisDocument.detailReset = false;\r\n                thisDocument.reservationDetailId = [0, 0, 0, 0, 0];\r\n            }\r\n        });\r\n\r\n        $(\".records\" + this.data.id + \" td.empty\").on(\"mouseenter\", function (event) {\r\n            col = $(this).parent().children().index($(this));\r\n            row = $(this).parent().parent().children().index($(this).parent()) - 1;\r\n        });\r\n\r\n        $(\".records\" + this.data.id + \" td.empty\")\r\n            .on(\"mousedown\", function (event) {\r\n                if (event.which != 1 || thisDocument.reservationDetailId[0] != 0 || thisDocument.reservationInProgress) return false; //does not work for other than left button\r\n                var element = $(this);\r\n                isMouseDown = true;\r\n                $(this).addClass(\"selected\");\r\n                $(this).siblings(\".time\").addClass(\"boldTime\");\r\n                fromRow = row;\r\n                fromCol = col;\r\n                beforeRow = row;\r\n                var horizontalPosition = (element.index() !== 5) ? (element.position().left).toString() + 'px' : (element.position().left + element.width() - 294).toString() + 'px';\r\n                thisDocument.reservationDetailId = [0, horizontalPosition, (element.position().top + $(\"#content\").scrollTop() + 25).toString() + 'px'];\r\n                return false;\r\n            })\r\n            .on(\"mouseover\", function () {            \r\n                if (isMouseDown && col == fromCol && (row - 1) == beforeRow && !($(this).hasClass(\"selected\"))) {\r\n                    lastCell = $(this);\r\n                    lastCell.addClass(\"selected\").siblings(\".time\").addClass(\"boldTime\");\r\n                    beforeRow = row;\r\n                    length++;\r\n                }\r\n                else if (isMouseDown && col == fromCol && row == (beforeRow - 1) && $(this).hasClass(\"selected\")) {\r\n                    lastCell.removeClass(\"selected\").siblings(\".time\").removeClass(\"boldTime\");\r\n                    beforeRow = row;\r\n                    lastCell = $(this);\r\n                    length--;\r\n                }              \r\n            });\r\n\r\n        $(document).on(\"mouseup\", function () {\r\n            if (isMouseDown) {\r\n                if(length > 0)\r\n                    thisDocument.makeReservation(fromRow, fromCol, length);\r\n                isMouseDown = false;\r\n                length = 1;\r\n            }\r\n        });\r\n    }\r\n\r\n    makeReservation(fromRow: number, fromCol: number, length: number) {\r\n        this.reservationInProgress = true;\r\n        var date, hours = 7, minutes = 0;\r\n        if (fromRow % 2 != 0) {\r\n            fromRow -= 1;\r\n            minutes = 30;\r\n        }\r\n        for (var i = 0; i < fromRow / 2; i++)\r\n            hours++;\r\n        date = moment().add(this.week, 'weeks').weekday(fromCol).hour(hours).minute(minutes).format(\"DD.MM.YYYY HH:mm\");\r\n        //checks, if selected time is not already reserved\r\n        var time = moment().hour(hours).minute(minutes).format(\"HH:mm\"), endTime = moment(time, 'HH:mm').add(length * 30, 'minutes').format(\"HH:mm\");\r\n        while (time < endTime) {\r\n            if (this.tableData[time] && this.tableData[time][fromCol - 1]) {\r\n                alert('Vaša rezervácia zasahuje do inej rezervácie. Zvoľte svoju rezerváciu inak.');\r\n                this.fillTable();\r\n                return false;\r\n            }\r\n            time = moment(time, 'HH:mm').add(30, 'minutes').format('HH:mm');\r\n        }\r\n        //checks if selected reservation is not in the past\r\n        /*if(date < moment().format(\"DD.MM.YYYY HH:mm\")){\r\n          alert('Zvolená rezervácia je v minulosti. Nie je možné ju vytroviť.');\r\n          this.fillTable();\r\n          return false;\r\n        }*/\r\n        //saves the data  \r\n        this.reservationService.addReservation(this.reservationType, this.data.id, 1, 'Rezervácia', date, length * 30).subscribe(\r\n            data => {\r\n                this.detailReset = true;\r\n                this.reservationDetailId = [data.json().id, this.reservationDetailId[1], this.reservationDetailId[2], 0];  //okno na potvrdenie rezervacie      \r\n            },\r\n            error => { alert(error); },\r\n            () => {\r\n                this.updateData();\r\n                this.reservationInProgress = false;\r\n                $(\".filterSelected\").removeClass(\"filterSelected\");\r\n            }\r\n        );\r\n    }\r\n\r\n    updateData(weeks = this.week) {\r\n        this.reservationService.getReservations(this.reservationType, this.data.id, moment().add(weeks, 'weeks').weekday(1).format(\"DD.MM.YYYY\"), moment().add(weeks, 'weeks').weekday(6).format(\"DD.MM.YYYY\")).subscribe(\r\n            data => {\r\n                this.reservationsData = data.json();\r\n            },\r\n            error => console.log(error),\r\n            () => {\r\n                //setting default data to 0\r\n                for (var i = 0; i < this.times.length; i++) {\r\n                    var pTime: any = this.times[i].time;\r\n                    this.tableData[pTime] = new Array();\r\n                    for (var j = 0; j < 5; j++)\r\n                        this.tableData[pTime][j] = 0;\r\n                }\r\n                //for each record, set table data\r\n                for (var i = 0; i < this.reservationsData.length; i++) {\r\n                    var record = this.reservationsData[i];\r\n                    var time = moment(record.dateTime, \"YYYY-MM-DD HH:mm:ss\").format(\"HH:mm\"), endTime = moment(record.dateTime, \"YYYY-MM-DD HH:mm:ss\").add(record.length, 'minutes').format('HH:mm'), day = moment(record.dateTime, \"YYYY-MM-DD HH:mm:ss\").weekday() - 1;\r\n\r\n                    while (time < endTime && time <= '17:30') {\r\n                        if (time == moment(record.dateTime, \"YYYY-MM-DD HH:mm:ss\").format(\"HH:mm\"))\r\n                            this.tableData[time][day] = JSON.parse('{\"userName\": \"' + this.usersList[record.userId] + '\", \"long\": 0, \"reservationName\":\"' + record.name + '\", \"reservationId\": \"' + record.id + '\"}');\r\n                        else this.tableData[time][day] = JSON.parse('{\"userName\": \"\", \"long\": 1, \"reservationId\": \"' + record.id + '\"}');\r\n                        time = moment(time, 'HH:mm').add(30, 'minutes').format('HH:mm');\r\n                    }\r\n                }\r\n                this.fillTable();\r\n            }\r\n        );\r\n    }\r\n\r\n    closeWindow($event) {\r\n        this.reservationDetailId = [0, 0, 0, 0, 0];\r\n        this.detailReset = false;\r\n        if ($event)\r\n            this.updateData();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}