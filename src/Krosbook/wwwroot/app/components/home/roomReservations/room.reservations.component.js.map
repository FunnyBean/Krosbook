{"version":3,"sources":["app/components/home/roomReservations/room.reservations.component.ts"],"names":[],"mappings":"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","file":"app/components/home/roomReservations/room.reservations.component.js","sourcesContent":["/**\r\n * Created by Ondrej on 25.07.2016.\r\n */\r\nimport {Component, OnInit, AfterViewInit, ViewChildren, QueryList} from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {CarService} from '../../../services/car.service';\r\nimport {OfficeService} from '../../../services/office.service';\r\nimport {UserService} from '../../../services/user.service';\r\nimport {Office} from '../../../models/office.admin.model';\r\nimport {User} from '../../../models/user.admin.model';\r\nimport {TableReservationComponent} from './table/table.reservations.component';\r\nimport * as moment from 'moment';\r\nimport {TimeValidator, DateValidator} from \"../../../validators/time.validator\";\r\n\r\ndeclare var $:any;\r\n\r\n@Component({\r\n  templateUrl: 'app/components/home/roomReservations/room.reservations.component.html',\r\n  directives: [TableReservationComponent, TimeValidator, DateValidator],\r\n  styles: ['.table-arrow {top: 0px;} #filter{background-color: #f2f2f2; padding: 10px}']\r\n\r\n})\r\n\r\nexport class RoomReservationsComponent implements OnInit  {\r\n  public reservationType:string = 'rooms';\r\n  public times = JSON.parse('[]');\r\n  public loggedUser:User = new User();\r\n  public data;\r\n  public usersList = [];\r\n  public isShowedFilterInput:boolean;\r\n  public length = 0.5;\r\n  public filterOfficeTypes:string = \"\";\r\n  public maxTime:number = 10.5;\r\n  public dateTime;\r\n  public week:number = 0;\r\n  public month:string;\r\n  public days;\r\n  public now = moment();\r\n  public moveDate = this.now.format(\"YYYY-MM-DD\");\r\n  public tableWidth;\r\n  public officeTypes = new Array();\r\n\r\n  @ViewChildren(TableReservationComponent) tableReservationComponent: QueryList<TableReservationComponent>;\r\n\r\n  constructor(private route:ActivatedRoute, private carService:CarService, private officeService:OfficeService, private userService:UserService) { \r\n  }\r\n\r\n  ngOnInit() {    \r\n    this.loadUsersData();\r\n    this.updateTime();\r\n    this.updateWeek();    \r\n  }\r\n\r\n  ngAfterViewInit(){\r\n    \r\n    var tables = this.tableReservationComponent.toArray();\r\n    for(var i = 0; i < tables.length; i++){\r\n      tables[i].updateData(this.week);\r\n    }\r\n  \r\n  }\r\n\r\n  ngAfterContentInit(){\r\n    \r\n    this.tableWidth = document.getElementById(\"reservationTable\").clientWidth;\r\n    \r\n    $(window).on(\"resize\", function(){\r\n      this.tableWidth = document.getElementById(\"reservationTable\").clientWidth;\r\n      $(\"thead, #month\").css({\"width\": this.tableWidth});\r\n    });\r\n    \r\n    $(\"#content\").scroll(function(){\r\n      var element = $(\"thead\");\r\n      var headHeight = document.getElementById(\"header\").clientHeight;\r\n      if(!element.hasClass(\"headFixed\") && element.offset().top <= headHeight){\r\n        element.addClass(\"headFixed\").css({\"top\": headHeight});\r\n        $(\"#contentHolder\").show(0).css({\"height\": element.height()});\r\n      }\r\n      if(element.hasClass(\"headFixed\") && $(\"tbody h4\").offset().top - element.height() > element.offset().top){\r\n        element.removeClass(\"headFixed\");\r\n        $(\"#contentHolder\").hide(0).css({\"height\": '0px'});\r\n      }\r\n    });\r\n\r\n    $(\"#left_menu a:nth-child(3)\").addClass(\"active\");\r\n  }\r\n\r\n  ngOnDestroy() {\r\n      $(window).unbind(\"resize\");\r\n      $(window).on(\"resize\", function () {\r\n          var height = window.innerHeight - document.getElementById(\"header\").clientHeight;\r\n          $(\"#content\").css({ \"height\": height });\r\n      });\r\n  }\r\n\r\n  updateMaxTime() {\r\n    this.maxTime = ((18 - moment(this.dateTime).hour())*60 - moment(this.dateTime).minute())/60;\r\n  }\r\n\r\n  loadUsersData() {\r\n    this.userService.getUsers().subscribe(\r\n      data => {\r\n        var usersArray = data.json();\r\n        for (var i = 0; i < usersArray.length; i++)\r\n          this.usersList[usersArray[i].id] = usersArray[i].name + ' ' + usersArray[i].surname;\r\n      },\r\n      error => console.log(error),\r\n      () => {\r\n        this.loadOfficesData();\r\n      }\r\n    );\r\n    this.userService.myProfile().subscribe(\r\n      data => {\r\n        this.loggedUser = data.json();\r\n      },\r\n      error => console.log(error)\r\n    );\r\n  }\r\n\r\n  loadOfficesData() {\r\n    this.officeService.getOffices().subscribe(\r\n      data => {\r\n        this.data = data.json();\r\n        for(var i = 0; i < this.data.length; i++)\r\n        {\r\n          var row = this.data[i];\r\n          if(this.officeTypes.indexOf(row.type) == -1)\r\n            this.officeTypes.push(row.type);\r\n        }\r\n      },\r\n      error => console.log(error)\r\n    );\r\n  }\r\n\r\n  updateTime() {\r\n    for (var i = 7; i < 18; i++) {\r\n      for (var j = 0; j < 2; j++) {\r\n        var time = moment().hour(i).minute(j * 30).format('HH:mm');\r\n        this.times.push({'time': time});\r\n      }\r\n    }\r\n  }\r\n\r\n  showFilterInput() {\r\n    this.dateTime = moment().minute(0).second(0).format(\"YYYY-MM-DDTHH:mm:ss\");\r\n    this.isShowedFilterInput = !this.isShowedFilterInput;\r\n    if (this.isShowedFilterInput == false) {\r\n      this.data = null;\r\n      this.times = JSON.parse('[]');\r\n      this.ngOnInit();\r\n    }\r\n    \r\n     if(this.isShowedFilterInput){\r\n        document.getElementById(\"filterButton\").innerHTML = \"<span class='glyphicon glyphicon-filter'></span> Skryť filter\";\r\n     }\r\n     else{\r\n       document.getElementById(\"filterButton\").innerHTML = \"<span class='glyphicon glyphicon-filter'></span> Zobraziť filter\";\r\n     }\r\n     \r\n  }\r\n\r\n  filterReservation(element) {\r\n    this.officeService.filterOffices(this.dateTime, this.length * 60, this.filterOfficeTypes).subscribe(\r\n      data => { \r\n        this.data = data.json();\r\n        this.week = moment(this.dateTime).week() - moment().week() + 52*(moment(this.dateTime).year() - moment().year());\r\n        if(moment(this.dateTime).year() - moment().year() !== 0) this.week++;\r\n        this.updateWeek();\r\n      },\r\n     error => console.log(error)\r\n     );\r\n\r\n      \r\n   \r\n  }\r\n\r\n  moveFor() {\r\n    this.week += 1;\r\n    this.updateWeek();\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  moveBack() {\r\n    this.week -= 1;\r\n    this.updateWeek();\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  moveToday(){\r\n    this.week = 0;\r\n    this.updateWeek();\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  moveToDate(){\r\n    this.week = moment(this.moveDate).week() - moment().week() + 52*(moment(this.moveDate).year() - moment().year());\r\n    if(moment(this.moveDate).year() - moment().year() !== 0) this.week++;\r\n    this.updateWeek();\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  updateWeek() {  \r\n    this.month = moment().add(this.week, 'weeks').format(\"MMMM\").toUpperCase();\r\n    this.days = JSON.parse('[]');\r\n    for (var i = 1; i < 6; i++) {\r\n      var day = moment().add(this.week, 'weeks').weekday(i).format(\"dd DD.MM.YY\");\r\n      this.days.push(day);\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}