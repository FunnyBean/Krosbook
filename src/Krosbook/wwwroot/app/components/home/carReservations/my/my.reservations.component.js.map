{"version":3,"sources":["app/components/home/carReservations/my/my.reservations.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAwB,eAAe,CAAC,CAAA;AACxC,uCAA8B,6CAA6C,CAAC,CAAA;AAC5E,4BAAyB,kCAAkC,CAAC,CAAA;AAE5D,uBAAqB,iBAAiB,CAAC,CAAA;AACvC,IAAY,MAAM,WAAM,QAAQ,CAAC,CAAA;AASjC;IAMI,iCAAoB,qBAAsC,EAAU,UAAqB,EAAU,MAAa;QANpH,iBAgEC;QA1DuB,0BAAqB,GAArB,qBAAqB,CAAiB;QAAU,eAAU,GAAV,UAAU,CAAW;QAAU,WAAM,GAAN,MAAM,CAAO;QAJxG,iBAAY,GAAyB,IAAI,KAAK,EAAkB,CAAC;QACjE,SAAI,GAAiB,IAAI,KAAK,EAAU,CAAC;QAC1C,WAAM,GAAG,CAAC,cAAc,EAAE,WAAW,EAAE,sBAAsB,CAAC,CAAC;QAGlE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,SAAS,CAC/B,UAAA,IAAI;YACA,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;YACvB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;gBAC/B,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACrE,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,EAC3B,cAAQ,KAAI,CAAC,sBAAsB,EAAE,CAAA,CAAC,CAAC,CAC1C,CAAA;IACL,CAAC;IAED,0CAAQ,GAAR;QACI,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QACrC,CAAC,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAED,wDAAsB,GAAtB;QAAA,iBAQC;QANG,IAAI,CAAC,qBAAqB,CAAC,aAAa,EAAE,CAAC,SAAS,CAChD,UAAA,IAAI;YACA,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QACpC,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B,CAAA;IACL,CAAC;IAED,iDAAe,GAAf,UAAgB,EAAE;QAEd,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,0CAA0C,EAAE,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED,mDAAiB,GAAjB,UAAkB,EAAE;QAApB,iBASC;QAPG,EAAE,CAAA,CAAC,OAAO,CAAC,6CAA6C,CAAC,CAAC,CAAC,CAAC;YACxD,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAChD,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,CAAC,EACzB,cAAQ,KAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,CAC3C,CAAA;QACL,CAAC;IACL,CAAC;IAED,yDAAuB,GAAvB,UAAwB,EAAE;QAA1B,iBASC;QAPG,EAAE,CAAA,CAAC,OAAO,CAAC,0DAA0D,CAAC,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,SAAS,CACpD,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,CAAC,EACzB,cAAQ,KAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,CAC3C,CAAA;QACL,CAAC;IACL,CAAC;IAED,gDAAc,GAAd,UAAe,QAAQ;QAEnB,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IACvD,CAAC;IApEL;QAAC,gBAAS,CAAC;YACP,WAAW,EAAE,uEAAuE;YACpF,SAAS,EAAE,CAAC,wCAAe,CAAC;SAC/B,CAAC;;+BAAA;IAkEF,8BAAC;AAAD,CAhEA,AAgEC,IAAA;AAhEY,+BAAuB,0BAgEnC,CAAA","file":"app/components/home/carReservations/my/my.reservations.component.js","sourcesContent":["import {Component} from '@angular/core';\r\nimport {CarOrderService} from '../../../../services/carReservation.service';\r\nimport {CarService} from '../../../../services/car.service';\r\nimport {CarReservation} from '../../../../models/carReservation.model';\r\nimport {Router} from '@angular/router';\r\nimport * as moment from 'moment';\r\n\r\ndeclare var $: any;\r\n\r\n@Component({\r\n    templateUrl: 'app/components/home/carReservations/my/my.reservations.component.html',\r\n    providers: [CarOrderService],\r\n})\r\n\r\nexport class MyReservationsComponent\r\n{\r\n    private reservations:Array<CarReservation> = new Array<CarReservation>();\r\n    private cars:Array<string> = new Array<string>();\r\n    public states = ['Nespracovaná', 'Schválená', 'Zaradená na zrušenie'];\r\n\r\n    constructor(private carReservationService: CarOrderService, private carService:CarService, private router:Router){ \r\n        this.carService.getCars().subscribe(\r\n            data => {\r\n                var cars = data.json();\r\n                for(var i = 0; i < cars.length; i++)\r\n                    this.cars[cars[i].id] = cars[i].name + \" : \" + cars[i].plate; \r\n            },\r\n            error => console.log(error),\r\n            () => { this.updateReservationsData() }\r\n        )\r\n    }\r\n\r\n    ngOnInit(){  \r\n        $(\"li.active\").removeClass(\"active\");\r\n        $(\"#liMyreservation\").addClass(\"active\");      \r\n    }\r\n\r\n    updateReservationsData()\r\n    {\r\n        this.carReservationService.getUserOrders().subscribe(\r\n            data => {\r\n                this.reservations = data.json();                \r\n            },\r\n            error => console.log(error)\r\n        )       \r\n    }\r\n\r\n    editReservation(id)\r\n    {      \r\n        this.router.navigate(['/home/reservations/cars/editreservation/', id]);\r\n    }\r\n\r\n    deleteReservation(id)\r\n    {\r\n        if(confirm(\"Naozaj chcete vymazať túto rezerváciu auta?\")) {\r\n            this.carReservationService.removeOrder(id).subscribe(\r\n                data => { },\r\n                error => { alert(error) },\r\n                () => { this.updateReservationsData(); }\r\n            )\r\n        }\r\n    }\r\n\r\n    askForDeleteReservation(id)\r\n    {\r\n        if(confirm(\"Naozaj chcete požiadať o zrušenie tejto rezervácie auta?\")) {\r\n            this.carReservationService.safeRemoveOrder(id).subscribe(\r\n                data => { },\r\n                error => { alert(error) },\r\n                () => { this.updateReservationsData(); }\r\n            )\r\n        }\r\n    }\r\n\r\n    formatDateTime(dateTime)\r\n    {\r\n        return moment(dateTime).format(\"DD.MM.YYYY HH:mm\");\r\n    }\r\n}"],"sourceRoot":"/source/"}