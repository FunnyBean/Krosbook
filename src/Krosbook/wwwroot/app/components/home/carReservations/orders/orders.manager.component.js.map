{"version":3,"sources":["app/components/home/carReservations/orders/orders.manager.component.ts"],"names":[],"mappings":"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","file":"app/components/home/carReservations/orders/orders.manager.component.js","sourcesContent":["import {Component, OnInit} from  '@angular/core';\r\nimport {ROUTER_DIRECTIVES, Router} from '@angular/router';\r\nimport {Observable} from 'rxjs/observable';\r\n\r\nimport {CarOrderService} from '../../../../services/carReservation.service';\r\nimport {CarService} from '../../../../services/car.service';\r\nimport {UserService} from '../../../../services/user.service';\r\n\r\nimport {Car} from '../../../../models/car.model';\r\nimport {User} from '../../../../models/user.admin.model';\r\nimport {CarReservation} from '../../../../models/carReservation.model';\r\n\r\nimport * as moment from 'moment';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n    templateUrl: 'app/components/home/carReservations/orders/orders.manager.component.html',\r\n    providers: [CarOrderService],\r\n    styles: [' #filter{background-color: #f2f2f2; padding: 10px} input[type=radio]{margin-right: 5px}']\r\n})\r\n\r\nexport class OrdersManagerComponent {\r\n    public stableOrders: Array<CarReservation>;\r\n    public orders: Array<CarReservation>;\r\n    public orderId: number;\r\n    public isShowedFilterInput: boolean = false;\r\n    public reservationsInterval: string = 'week';\r\n    public states = ['Nespracovaná', 'Schválená', 'Žiada o zrušenie'];\r\n    public isEmpty: boolean;\r\n\r\n    private cars: Array<string> = new Array<string>();\r\n    private users: Array<string> = new Array<string>();\r\n    private filterData: Array<any> = [false, true, true, 'all', 'all'];\r\n    private carsData: Array<Car>;\r\n    private usersData: Array<User>;\r\n\r\n    constructor(private router: Router, private carOrderService: CarOrderService, private carService: CarService, private userService: UserService) {\r\n        this.carService.getCars().subscribe(\r\n            data => {\r\n                var cars = data.json();\r\n                this.carsData = data.json();\r\n\r\n                for (var i = 0; i < cars.length; i++)\r\n                    this.cars[cars[i].id] = cars[i].name + \" : \" + cars[i].plate;\r\n\r\n            },\r\n            error => console.log(error),\r\n            () => { this.getUsers() }\r\n        )\r\n    }\r\n\r\n    ngOnInit() {\r\n        $(\"li.active\").removeClass(\"active\");;\r\n        $(\"#liOrders\").addClass(\"active\");\r\n    }\r\n\r\n    filterReservation() {\r\n        var filtered: Array<CarReservation> = new Array<CarReservation>();\r\n\r\n        var approvedOrders = this.filterData[0] ? 2 : 0;\r\n        var notApprovedOrders = this.filterData[1] ? 1 : 0;\r\n        var toDelete = this.filterData[2] ? 3 : 0;\r\n        var choosenCar = this.filterData[3];\r\n        var choosenUser = this.filterData[4]\r\n\r\n        if (choosenUser == 'all' && choosenCar == 'all') {\r\n            for (let order of this.stableOrders) {\r\n                if (order.reservationState == approvedOrders) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders || order.reservationState == toDelete) {\r\n                    filtered.push(order);\r\n                }\r\n            }\r\n        }\r\n\r\n        else if (choosenCar == 'all') {\r\n            for (let order of this.stableOrders) {\r\n                if (order.userId == choosenUser && (order.reservationState == approvedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.userId == choosenUser && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.userId == choosenUser && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders || order.reservationState == toDelete)) {\r\n                    filtered.push(order);\r\n                }\r\n            }\r\n        }\r\n\r\n        else if (choosenUser == 'all') {\r\n            for (let order of this.stableOrders) {\r\n                if (order.carId == choosenCar && (order.reservationState == approvedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.carId == choosenCar && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.carId == choosenCar && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders || order.reservationState == toDelete)) {\r\n                    filtered.push(order);\r\n                }\r\n            }\r\n        }\r\n\r\n        else {\r\n            for (let order of this.stableOrders) {\r\n                if (order.carId == choosenCar && order.userId == choosenUser && (order.reservationState == approvedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.carId == choosenCar && order.userId == choosenUser && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders)) {\r\n                    filtered.push(order);\r\n                }\r\n                else if (order.carId == choosenCar && order.userId == choosenUser && (order.reservationState == approvedOrders || order.reservationState == notApprovedOrders || order.reservationState == toDelete)) {\r\n                    filtered.push(order);\r\n                }\r\n            }\r\n        }\r\n\r\n        this.orders = filtered;\r\n        this.isEmpty = (filtered.length > 0) ? false : true;\r\n    }\r\n\r\n    getUsers() {\r\n        this.userService.getUsers().subscribe(\r\n            data => {\r\n                var usersArray = data.json();\r\n                this.usersData = data.json();\r\n                for (var i = 0; i < usersArray.length; i++)\r\n                    this.users[usersArray[i].id] = usersArray[i].name + ' ' + usersArray[i].surname;\r\n            },\r\n            error => console.log(error),\r\n            () => { this.getOrders(); }\r\n        );\r\n    }\r\n\r\n    editOrder(id: number) {\r\n        this.router.navigate(['/home/reservations/cars/editreservation/', id]);\r\n    }\r\n\r\n    removeOrder(id: number) {\r\n        if (confirm(\"Naozaj chcete vymazať rezerváciu?\")) {\r\n            this.carOrderService.removeOrder(id).subscribe(\r\n                data => {\r\n                },\r\n                error => {\r\n                    alert(error)\r\n                },\r\n                () => {\r\n                    this.getOrders();\r\n                }\r\n            )\r\n        }\r\n    }\r\n\r\n    approveOrder(carId: number, id: number, from: any, to: any) {\r\n        this.isFree(carId, id, from, to).subscribe(result => {\r\n            if (result) {\r\n                if (confirm(\"Schvaľujete túto rezerváciu?\")) {\r\n                    this.carOrderService.approveOrder(id).subscribe(\r\n                        data => { },\r\n                        error => {\r\n                            alert(error)\r\n                        },\r\n                        () => {\r\n                            this.getOrders();\r\n                        }\r\n                    )\r\n                }\r\n            }\r\n            else return false;\r\n        });\r\n    }\r\n\r\n    showFilterInput() {\r\n        this.isShowedFilterInput = !this.isShowedFilterInput;\r\n\r\n        if (this.isShowedFilterInput) {\r\n            document.getElementById(\"filterButton\").innerHTML = \"<span class='glyphicon glyphicon-filter'></span> Skryť filter\";\r\n            this.filterReservation();\r\n        }\r\n        else {\r\n            document.getElementById(\"filterButton\").innerHTML = \"<span class='glyphicon glyphicon-filter'></span> Zobraziť filter\";\r\n            this.orders = this.stableOrders;\r\n        }\r\n    }\r\n\r\n    formatDateTime(dateTime: any) {\r\n        return moment(dateTime).format('DD.MM.YYYY HH:mm');\r\n    }\r\n\r\n    getOrders() {\r\n        this.carOrderService.getOrders(this.reservationsInterval)\r\n            .subscribe(\r\n            data => {\r\n                this.stableOrders = data.json();\r\n                if (this.isShowedFilterInput)\r\n                    this.filterReservation();\r\n                else\r\n                    this.orders = data.json();\r\n            },\r\n            error => console.error(error)\r\n            );\r\n    }\r\n\r\n    isFree(carId: number, reservationId: number, from, to) {\r\n        return new Observable(observer => {\r\n            this.carOrderService.getReservations(carId, moment(from).format(\"DD.MM.YYYY\"), moment(to).add(1, 'days').format(\"DD.MM.YYYY\")).subscribe(\r\n                data => {\r\n                    var results = data.json();\r\n                    if (results == \"\") {\r\n                        observer.next(true);\r\n                        observer.complete();\r\n                    }\r\n                    else {\r\n                        for (var i = 0; i < results.length; i++) {\r\n                            var result = results[i];\r\n                            if (result.id == reservationId) {\r\n                                observer.next(true);\r\n                                observer.complete();\r\n                            }\r\n                            var reservationTime = moment(from).format(\"HH:mm\"), reservationTimeEnd = moment(to).format(\"HH:mm\"), time = moment(result.dateTimeStart).format(\"HH:mm\"), endTime = moment(result.dateTimeEnd).format(\"HH:mm\");\r\n                            if ((reservationTime >= time && reservationTime < endTime) || (time >= reservationTime && time < reservationTimeEnd)) {\r\n                                alert(\"Nájdený konflitk - \" + result.destination + \": \" + moment(result.dateTimeStart).format(\"DD.MM.YY HH:mm\") + \" - \" + moment(result.dateTimeEnd).format(\"DD.MM.YY HH:mm\"));\r\n                                observer.next(false);\r\n                                observer.complete();\r\n                            } else {\r\n                                observer.next(true);\r\n                                observer.complete();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}