{"version":3,"sources":["app/components/home/carReservations/reservations/table/table.reservations.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA0D,eAAe,CAAC,CAAA;AAC1E,oCAAiC,6CAA6C,CAAC,CAAA;AAC/E,gCAA6B,yCAAyC,CAAC,CAAA;AACvE,uBAAwC,iBAAiB,CAAC,CAAA;AAC1D,IAAY,MAAM,WAAM,QAAQ,CAAC,CAAA;AAEjC,iCAA8B,0CAA0C,CAAC,CAAA;AAUzE;IAWI,mCAAoB,eAAgC,EAAU,MAAc,EAAU,kBAAsC,EAAU,cAA8B;QAAhJ,oBAAe,GAAf,eAAe,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,uBAAkB,GAAlB,kBAAkB,CAAoB;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAH7J,cAAS,GAAG,EAAE,CAAC;IAGkJ,CAAC;IAEzK,4CAAQ,GAAR;QACI,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAC1E,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;YAClB,YAAY,CAAC,UAAU,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,+CAAW,GAAX;QACI,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAED,6CAAS,GAAT;QACI,IAAI,KAAK,GAAG,mEAAmE,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,iBAAiB,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,GAAG,CAAC,EAAE,KAAK,EAAE,WAAW,GAAG,KAAK,EAAE,YAAY,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE,QAAQ,CAAC;QAE5S,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACzC,KAAK,IAAI,MAAM,CAAC;YAChB,KAAK,IAAI,4BAA4B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;YACrE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACjE,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjD,IAAI,OAAO,GAAW,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;gBACtK,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;oBACpB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;wBACV,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;4BACP,KAAK,IAAI,+BAA+B,GAAG,OAAO,GAAG,OAAO,CAAC;wBACjE,IAAI;4BAAC,KAAK,IAAI,oCAAoC,CAAC;oBACvD,CAAC;oBACD,IAAI;wBAAC,KAAK,IAAI,kCAAkC,CAAC;gBACrD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,IAAI,CAAC,CAAC;wBAC3B,EAAE,GAAG,YAAY,CAAC;oBACtB,IAAI;wBAAC,EAAE,GAAG,WAAW,CAAC;oBACtB,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC;wBAC/B,KAAK,IAAI,qBAAqB,GAAG,IAAI,CAAC,aAAa,GAAG,oBAAoB,GAAG,EAAE,GAAG,cAAc,CAAC;oBACrG,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,KAAK,IAAI,qBAAqB,GAAG,IAAI,CAAC,aAAa,GAAG,oBAAoB,GAAG,EAAE,GAAG,6BAA6B,GAAG,IAAI,CAAC,eAAe,GAAG,mBAAmB,GAAG,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC;oBACnM,CAAC;gBACL,CAAC;YACL,CAAC;YACD,KAAK,IAAI,OAAO,CAAC;QACrB,CAAC;QAED,wCAAwC;QACxC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;QAChD,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAE5C,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,WAAW,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,UAAU,KAAK;YACvE,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACjD,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC;QAC3E,CAAC,CAAC,CAAC;QAEH,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,WAAW,CAAC;aACrC,EAAE,CAAC,WAAW,EAAE,UAAU,KAAK;YAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC;gBAAC,MAAM,CAAC,KAAK,CAAC,CAAC,0CAA0C;YAC9E,IAAI,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;YACtB,WAAW,GAAG,IAAI,CAAC;YACnB,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC7B,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC/C,OAAO,GAAG,GAAG,CAAC;YACd,OAAO,GAAG,GAAG,CAAC;YACd,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7C,SAAS,GAAG,GAAG,CAAC;YAChB,IAAI,kBAAkB,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,IAAI,GAAG,OAAO,CAAC,KAAK,EAAE,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;YACrK,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC,CAAC;aACD,EAAE,CAAC,WAAW,EAAE;YACb,EAAE,CAAC,CAAC,WAAW,IAAI,GAAG,IAAI,OAAO,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,IAAI,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7F,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACnB,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;gBACrE,SAAS,GAAG,GAAG,CAAC;gBAChB,MAAM,EAAE,CAAC;YACb,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,WAAW,IAAI,GAAG,IAAI,OAAO,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC/F,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;gBAC3E,SAAS,GAAG,GAAG,CAAC;gBAChB,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;gBACnB,MAAM,EAAE,CAAC;YACb,CAAC;QACL,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE;YACtB,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACd,YAAY,CAAC,eAAe,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;gBAC9D,WAAW,GAAG,KAAK,CAAC;gBACpB,MAAM,GAAG,CAAC,CAAC;YACf,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mDAAe,GAAf,UAAgB,OAAe,EAAE,OAAe,EAAE,MAAc,EAAE,KAAa;QAC3E,IAAI,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC;QACpB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE;YAC5B,KAAK,EAAE,CAAC;QACZ,IAAI,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;QAC1G,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,KAAK,CAAC,CAAC;QACzG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,yCAAyC,CAAC,CAAC,CAAC;IACtE,CAAC;IAGD,8CAAU,GAAV,UAAW,KAAiB;QAA5B,iBAwEC;QAxEU,qBAAiB,GAAjB,QAAQ,IAAI,CAAC,IAAI;QACxB,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,SAAS,CAC7M,UAAA,IAAI;YACA,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;QACxC,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,EAC3B;YACI,2BAA2B;YAC3B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACzC,IAAI,KAAK,GAAQ,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACpC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,KAAK,EAAE,CAAC;gBACpC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE;oBACtB,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACrC,CAAC;YACD,iCAAiC;YACjC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpD,IAAI,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,qBAAqB,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,qBAAqB,CAAC,EAAE,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,qBAAqB,CAAC,EAAE,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBACpQ,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAI,GAAG,GAAG,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;oBACjC,OAAO,IAAI,GAAG,OAAO,IAAI,IAAI,IAAI,OAAO,EAAE,CAAC;wBACvC,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;4BAClB,EAAE,CAAC,CAAC,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,OAAO,CAAC;gCACpD,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,mCAAmC,GAAG,MAAM,CAAC,WAAW,GAAG,uBAAuB,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;4BAC5P,IAAI;gCAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gDAAgD,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;wBAC5K,CAAC;wBACD,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBAChE,CAAC;gBACL,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,OAAO,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC;wBACpE,IAAI,GAAG,GAAG,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;wBACnC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;4BAC5N,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;4BAC1B,QAAQ,CAAC;wBACb,CAAC;wBAED,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;4BACnE,OAAO,IAAI,IAAI,OAAO,EAAE,CAAC;gCACrB,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;oCAClB,EAAE,CAAC,CAAC,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,qBAAqB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;wCAC5E,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,mCAAmC,GAAG,MAAM,CAAC,WAAW,GAAG,uBAAuB,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;oCAC5P,IAAI;wCAAC,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gDAAgD,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;gCAC5K,CAAC;gCACD,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BAChE,CAAC;wBACL,CAAC;wBACD,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;4BACtE,IAAI,QAAQ,GAAG,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BACxD,OAAO,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,OAAO,EAAE,CAAC;gCAChD,EAAE,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;oCACpB,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,mCAAmC,GAAG,MAAM,CAAC,WAAW,GAAG,uBAAuB,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;gCAChQ,IAAI;oCAAC,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gDAAgD,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;gCAC5K,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BACxE,CAAC;wBACL,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,IAAI,QAAQ,GAAG,MAAM,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BACxD,OAAO,QAAQ,IAAI,OAAO,EAAE,CAAC;gCACzB,EAAE,CAAC,CAAC,QAAQ,IAAI,OAAO,CAAC;oCACpB,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,mCAAmC,GAAG,MAAM,CAAC,WAAW,GAAG,uBAAuB,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;gCAChQ,IAAI;oCAAC,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,gDAAgD,GAAG,MAAM,CAAC,EAAE,GAAG,0BAA0B,GAAG,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;gCAC5K,QAAQ,GAAG,MAAM,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;4BACxE,CAAC;wBACL,CAAC;wBACD,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;oBAC9B,CAAC;gBACL,CAAC;YACL,CAAC;YACD,KAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC,CACJ,CAAC;IACN,CAAC;IAzLD;QAAC,YAAK,EAAE;;2DAAA;IACR;QAAC,YAAK,EAAE;;4DAAA;IACR;QAAC,YAAK,EAAE;;sEAAA;IACR;QAAC,YAAK,EAAE;;gEAAA;IACR;QAAC,YAAK,EAAE;;iEAAA;IACR;QAAC,YAAK,EAAE;;2DAAA;IAZZ;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,OAAO;YACjB,WAAW,EAAE,0FAA0F;YACvG,SAAS,EAAE,CAAC,wCAAkB,EAAE,gCAAc,CAAC;SAClD,CAAC;;iCAAA;IA8LF,gCAAC;AAAD,CA5LA,AA4LC,IAAA;AA5LY,iCAAyB,4BA4LrC,CAAA","file":"app/components/home/carReservations/reservations/table/table.reservations.component.js","sourcesContent":["import {Component, Input, OnInit, ViewChild, Inject} from '@angular/core';\r\nimport {ReservationService} from '../../../../../services/reservation.service';\r\nimport {HolidayService} from '../../../../../services/holiday.service';\r\nimport {ROUTER_DIRECTIVES, Router} from '@angular/router';\r\nimport * as moment from 'moment';\r\n\r\nimport {FormDataService} from '../../../../../services/formData.service';\r\ndeclare var $: any;\r\n\r\n\r\n@Component({\r\n    selector: 'tbody',\r\n    templateUrl: 'app/components/home/carReservations/reservations/table/table.reservations.component.html',\r\n    providers: [ReservationService, HolidayService]\r\n})\r\n\r\nexport class TableReservationComponent implements OnInit {\r\n    @Input() data;\r\n    @Input() times;\r\n    @Input() reservationType;\r\n    @Input() usersList;\r\n    @Input() loggedUser;\r\n    @Input() week;\r\n\r\n    public tableData = [];\r\n    public reservationsData;\r\n\r\n    constructor(private formDataService: FormDataService, private router: Router, private reservationService: ReservationService, private holidayService: HolidayService) { }\r\n\r\n    ngOnInit() {\r\n        this.formDataService.saveData(undefined, undefined, 0);\r\n        this.updateData();\r\n        this.data.color = (this.data.color == null) ? '#337ab7' : this.data.color;\r\n        var thisDocument = this;\r\n        $(window).on(\"focus\", function () {\r\n            thisDocument.updateData();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        $(window).unbind(\"focus\");\r\n    }\r\n\r\n    fillTable() {\r\n        var table = '<tr><td  colspan=\"6\" class=\"officeName\" style=\"background-color: ' + this.data.color + '\"><h4>' + this.data.name + ' &nbsp &nbsp ' + this.data.plate + '</h4></td></tr>', fromRow, fromCol, length = 1, carId, isMouseDown = false, thisDocument = this, col, row, beforeRow = 0, bg, lastCell;\r\n        \r\n        for (var i = 0; i < this.times.length; i++) {\r\n            table += '<tr>';\r\n            table += '<td class=\"col-md-1 time\">' + this.times[i].time + '</td>';\r\n            for (var j = 0; j < this.tableData[this.times[i].time].length; j++) {\r\n                let cell = this.tableData[this.times[i].time][j];\r\n                let holiday: string = this.holidayService.isHoliday(moment().add(this.week, 'weeks').weekday(j + 1).format(\"DD/MM\"), moment().add(this.week, 'weeks').format(\"YYYY\"));\r\n                if (cell.long == null) {\r\n                    if (holiday) {\r\n                        if (i == 0)\r\n                            table += '<td class=\"col-md-2 holiday\">' + holiday + '</td>';\r\n                        else table += '<td class=\"col-md-2 holiday\"></td>';\r\n                    }\r\n                    else table += '<td class=\"col-md-2 empty\"></td>';\r\n                } else {\r\n                    if (cell.reservationState == 2)\r\n                        bg = \"bg-primary\";\r\n                    else bg = \"bg-danger\";\r\n                    if (cell.reservationName == null) {\r\n                        table += '<td reservationId=\"' + cell.reservationId + '\" class=\"col-md-2 ' + bg + ' full\"></td>';\r\n                    } else {\r\n                        table += '<td reservationId=\"' + cell.reservationId + '\" class=\"col-md-2 ' + bg + ' full text-center\"><strong>' + cell.reservationName + '</strong> <small>' + cell.userName + '</small></td>';\r\n                    }\r\n                }\r\n            }\r\n            table += '</tr>';\r\n        }\r\n\r\n        //replacing old data with new table data\r\n        $(\".records\" + this.data.id + \" > tr\").remove();\r\n        $(\".records\" + this.data.id).prepend(table);\r\n\r\n        $(\".records\" + this.data.id + \" td.empty\").on(\"mouseenter\", function (event) {\r\n            col = $(this).parent().children().index($(this));\r\n            row = $(this).parent().parent().children().index($(this).parent()) - 1;\r\n        });\r\n\r\n        $(\".records\" + this.data.id + \" td.empty\")\r\n            .on(\"mousedown\", function (event) {\r\n                if (event.which != 1) return false; //does not work for other than left button\r\n                var element = $(this);\r\n                isMouseDown = true;\r\n                $(this).addClass(\"selected\");\r\n                $(this).siblings(\".time\").addClass(\"boldTime\");\r\n                fromRow = row;\r\n                fromCol = col;\r\n                carId = $(this).parent().parent().attr(\"id\");\r\n                beforeRow = row;\r\n                var horizontalPosition = (element.index() !== 5) ? (element.position().left).toString() + 'px' : (element.position().left + element.width() - 294).toString() + 'px';\r\n                return false;\r\n            })\r\n            .on(\"mouseover\", function () {\r\n                if (isMouseDown && col == fromCol && (row - 1) == beforeRow && !($(this).hasClass(\"selected\"))) {\r\n                    lastCell = $(this);\r\n                    lastCell.addClass(\"selected\").siblings(\".time\").addClass(\"boldTime\");\r\n                    beforeRow = row;\r\n                    length++;\r\n                }\r\n                else if (isMouseDown && col == fromCol && row == (beforeRow - 1) && $(this).hasClass(\"selected\")) {\r\n                    lastCell.removeClass(\"selected\").siblings(\".time\").removeClass(\"boldTime\");\r\n                    beforeRow = row;\r\n                    lastCell = $(this);\r\n                    length--;\r\n                }\r\n            });\r\n\r\n        $(document).on(\"mouseup\", function () {\r\n            if (isMouseDown) {\r\n                thisDocument.makeReservation(fromRow, fromCol, length, carId);\r\n                isMouseDown = false;\r\n                length = 1;\r\n            }\r\n        });\r\n    }\r\n\r\n    makeReservation(fromRow: number, fromCol: number, length: number, carId: number) {\r\n        var date, hours = 7;\r\n        for (var i = 0; i < fromRow; i++)\r\n            hours++;\r\n        date = moment().add(this.week, 'weeks').weekday(fromCol).hour(hours).minute(0).format(\"YYYY-MM-DDTHH:mm\");\r\n        this.formDataService.saveData(date, moment(date).add(length, 'hours').format(\"YYYY-MM-DDTHH:mm\"), carId);\r\n        this.router.navigate(['/home/reservations/cars/newreservation/']);\r\n    }\r\n\r\n\r\n    updateData(weeks = this.week) {\r\n        this.reservationService.getReservations(this.reservationType, this.data.id, moment().add(weeks, 'weeks').weekday(1).format(\"DD.MM.YYYY\"), moment().add(weeks, 'weeks').weekday(6).format(\"DD.MM.YYYY\")).subscribe(\r\n            data => {\r\n                this.reservationsData = data.json();\r\n            },\r\n            error => console.log(error),\r\n            () => {\r\n                //setting default data to 0\r\n                for (var i = 0; i < this.times.length; i++) {\r\n                    var pTime: any = this.times[i].time;\r\n                    this.tableData[pTime] = new Array();\r\n                    for (var j = 0; j < 5; j++)\r\n                        this.tableData[pTime][j] = 0;\r\n                }\r\n                //for each record, set table data\r\n                for (var i = 0; i < this.reservationsData.length; i++) {\r\n                    var record = this.reservationsData[i];\r\n                    var startDay = moment(record.dateTimeStart, \"YYYY-MM-DDTHH:mm:ss\"), endDay = moment(record.dateTimeEnd, \"YYYY-MM-DDTHH:mm:ss\"), currentDay = moment(record.dateTimeStart, \"YYYY-MM-DDTHH:mm:ss\"), time = startDay.format(\"HH:mm\"), endTime = endDay.format('HH:mm');\r\n                    if (startDay.format(\"YYYY-MM-DD\") == endDay.format(\"YYYY-MM-DD\")) {\r\n                        var day = startDay.weekday() - 1;\r\n                        while (time < endTime && time <= '18:00') {\r\n                            if (time >= '07:00') {\r\n                                if (time == startDay.format(\"HH:mm\") || time == '07:00')\r\n                                    this.tableData[time][day] = JSON.parse('{\"userName\": \"' + this.usersList[record.userId] + '\", \"long\": 0, \"reservationName\":\"' + record.destination + '\", \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                else this.tableData[time][day] = JSON.parse('{\"userName\": \"\", \"long\": 1, \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                            }\r\n                            time = moment(time, 'HH:mm').add(1, 'hour').format('HH:mm');\r\n                        }\r\n                    }\r\n                    else {\r\n                        while (currentDay.format(\"YYYY-MM-DD\") <= endDay.format(\"YYYY-MM-DD\")) {\r\n                            var day = currentDay.weekday() - 1;\r\n                            if (day == 5 || day == -1 || currentDay.format(\"YYYY-MM-DD\") < moment().add(weeks, 'weeks').weekday(1).format(\"YYYY-MM-DD\") || currentDay.format(\"YYYY-MM-DD\") > moment().add(weeks, 'weeks').weekday(5).format(\"YYYY-MM-DD\")) {\r\n                                currentDay.add(1, 'days');\r\n                                continue;\r\n                            }\r\n\r\n                            if (startDay.format(\"YYYY-MM-DD\") == currentDay.format(\"YYYY-MM-DD\")) {\r\n                                while (time <= '18:00') {\r\n                                    if (time >= '07:00') {\r\n                                        if (time == moment(record.dateTimeStart, \"YYYY-MM-DD HH:mm:ss\").format(\"HH:mm\"))\r\n                                            this.tableData[time][day] = JSON.parse('{\"userName\": \"' + this.usersList[record.userId] + '\", \"long\": 0, \"reservationName\":\"' + record.destination + '\", \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                        else this.tableData[time][day] = JSON.parse('{\"userName\": \"\", \"long\": 1, \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                    }\r\n                                    time = moment(time, 'HH:mm').add(1, 'hour').format('HH:mm');\r\n                                }\r\n                            }\r\n                            else if (endDay.format(\"YYYY-MM-DD\") == currentDay.format(\"YYYY-MM-DD\")) {\r\n                                var tempTime = moment('07:00', 'HH:mm').format(\"HH:mm\");\r\n                                while (tempTime <= endTime && tempTime <= '18:00') {\r\n                                    if (tempTime == \"07:00\")\r\n                                        this.tableData[tempTime][day] = JSON.parse('{\"userName\": \"' + this.usersList[record.userId] + '\", \"long\": 0, \"reservationName\":\"' + record.destination + '\", \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                    else this.tableData[tempTime][day] = JSON.parse('{\"userName\": \"\", \"long\": 1, \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                    tempTime = moment(tempTime, 'HH:mm').add(1, 'hour').format('HH:mm');\r\n                                }\r\n                            }\r\n                            else {\r\n                                var tempTime = moment('07:00', 'HH:mm').format(\"HH:mm\");\r\n                                while (tempTime <= '18:00') {\r\n                                    if (tempTime == \"07:00\")\r\n                                        this.tableData[tempTime][day] = JSON.parse('{\"userName\": \"' + this.usersList[record.userId] + '\", \"long\": 0, \"reservationName\":\"' + record.destination + '\", \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                    else this.tableData[tempTime][day] = JSON.parse('{\"userName\": \"\", \"long\": 1, \"reservationId\": \"' + record.id + '\", \"reservationState\": \"' + record.reservationState + '\"}');\r\n                                    tempTime = moment(tempTime, 'HH:mm').add(1, 'hour').format('HH:mm');\r\n                                }\r\n                            }\r\n                            currentDay.add(1, 'days');\r\n                        }\r\n                    }\r\n                }\r\n                this.fillTable();\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}