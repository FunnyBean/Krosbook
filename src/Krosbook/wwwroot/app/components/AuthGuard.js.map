{"version":3,"sources":["app/components/AuthGuard.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;GAEG;AACH,6BAA0B,0BAA0B,CAAC,CAAA;AACrD,uBAAkC,iBAAiB,CAAC,CAAA;AACpD,qBAAyB,eAAe,CAAC,CAAA;AAEzC,2BAAyB,iBAAiB,CAAC,CAAA;AAI3C;IAEE,mBAAmB,WAAuB,EAAS,MAAa;QAA7C,gBAAW,GAAX,WAAW,CAAY;QAAS,WAAM,GAAN,MAAM,CAAO;IAAI,CAAC;IAErE,+BAAW,GAAX;QAAA,iBAcC;QAbC,MAAM,CAAC,uBAAU,CAAC,MAAM,CAAC,UAAA,QAAQ;YAC/B,KAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,SAAS,CACrC,UAAA,IAAI;gBACA,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACpB,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACxB,CAAC,EACD,UAAA,KAAK;gBACH,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrB,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACpB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnC,CAAC,CACF,CAAA;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAnBH;QAAC,iBAAU,EAAE;;iBAAA;IAqBb,gBAAC;AAAD,CApBA,AAoBC,IAAA;AApBY,iBAAS,YAoBrB,CAAA","file":"app/components/AuthGuard.js","sourcesContent":["/**\r\n * Created by Tibor PoÅ¡tek on 14.07.2016.\r\n */\r\nimport {UserService} from '../services/user.service';\r\nimport {Router, CanActivate} from '@angular/router';\r\nimport {Injectable} from \"@angular/core\";\r\nimport {Response} from '@angular/http';\r\nimport {Observable} from 'rxjs/Observable';\r\n\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(public userService:UserService, public router:Router) { }\r\n\r\n  canActivate() {\r\n    return Observable.create(observer => {\r\n      this.userService.isLoggedIn().subscribe(\r\n        data => { \r\n            observer.next(true);\r\n            observer.complete();\r\n        },\r\n        error => { \r\n          observer.next(false);\r\n          observer.complete();\r\n          this.router.navigate(['/login']);\r\n        }\r\n      )\r\n    });\r\n  }\r\n  \r\n}\r\n"],"sourceRoot":"/source/"}