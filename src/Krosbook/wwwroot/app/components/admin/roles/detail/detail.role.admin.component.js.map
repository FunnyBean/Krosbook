{"version":3,"sources":["app/components/admin/roles/detail/detail.role.admin.component.ts"],"names":[],"mappings":"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","file":"app/components/admin/roles/detail/detail.role.admin.component.js","sourcesContent":["import {Component, Input, Output, EventEmitter, OnInit} from '@angular/core';\r\nimport {Role} from '../../../../models/role.admin.model';\r\nimport {RolesService} from '../../../../services/roles.service';\r\n\r\n@Component({\r\n  selector: \"equipment\",\r\n  templateUrl: 'app/components/admin/roles/detail/detail.role.admin.component.html',\r\n  styleUrls: ['lib/css/modalWindow.css'],\r\n})\r\n\r\nexport class DetailRoleAdminComponent implements OnInit {\r\n  public error;\r\n  public success;\r\n  public saving:boolean = false;\r\n  public formReset:boolean = true;\r\n  public roleData:Role = new Role();\r\n\r\n  @Input() roleId:number;\r\n  @Output() windowClose = new EventEmitter<boolean>();\r\n  @Output() updateList = new EventEmitter<boolean>();\r\n\r\n  constructor(private rolesService:RolesService) { }\r\n\r\n  ngOnInit(){\r\n    if(this.roleId)\r\n      this.getRole();\r\n  }\r\n\r\n  getRole(){\r\n    this.rolesService.getRole(this.roleId).subscribe(\r\n      data => {this.roleData = data.json()},\r\n      error => console.log(error)\r\n    );\r\n  }\r\n\r\n  newRole(){\r\n    this.saving = true;\r\n    let name = this.roleData.name;\r\n    let id = this.roleData.id;\r\n    this.rolesService.addRole(JSON.stringify({name , id})).subscribe(\r\n      data => { },\r\n      error => { this.error = error; this.saving = false; },\r\n      () => {\r\n        this.saving = false;\r\n        this.success = 'Rola úspešné pridaná.';\r\n        this.roleData = new Role();\r\n        this.formReset = false;\r\n        setTimeout(() => this.formReset = true, 0);\r\n        this.updateList.emit(true);\r\n      }\r\n    );\r\n  }\r\n\r\n  editRole(){\r\n    this.saving = true;\r\n    let name = this.roleData.name;\r\n    let id = this.roleData.id;\r\n    this.rolesService.editRole(id, JSON.stringify({id, name})).subscribe(\r\n      data => { },\r\n      error => { this.error = error; this.saving = false; },\r\n      () => {\r\n        this.saving = false;\r\n        this.success = 'Rola úspešne upravená.';\r\n        this.updateList.emit(true);\r\n      }\r\n    );\r\n  }\r\n\r\n  closeWindow(){\r\n    this.windowClose.emit(false);\r\n  }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}