{"version":3,"sources":["app/components/admin/roles/roles.admin.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAiC,eAAe,CAAC,CAAA;AACjD,8BAA2B,iCAAiC,CAAC,CAAA;AAE7D,4CAAuC,sCAAsC,CAAC,CAAA;AAO9E;IAKE,6BAAoB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;QAFrC,mBAAc,GAAW,KAAK,CAAC;IAES,CAAC;IAEjD,sCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,sCAAQ,GAAR;QAAA,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE;aACzB,SAAS,CACR,UAAA,IAAI,IAAK,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA,CAAA,CAAC,EAClC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACN,CAAC;IAED,wCAAU,GAAV,UAAW,EAAS;QAApB,iBAQC;QAPC,EAAE,CAAA,CAAC,OAAO,CAAC,kCAAkC,CAAC,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,SAAS,CACxC,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,CAAC,EACzB,cAAQ,KAAI,CAAC,QAAQ,EAAE,CAAA,CAAC,CAAC,CAC1B,CAAA;QACH,CAAC;IACH,CAAC;IAED,qCAAO,GAAP;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,sCAAQ,GAAR,UAAS,EAAS;QAChB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YACzC,EAAE,CAAA,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAA,CAAC;gBACzB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC/B,KAAK,CAAC;YACR,CAAC;QACH,CAAC;QACD,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,wCAAU,GAAV;QACE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,yCAAW,GAAX,UAAY,MAAe;QACzB,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;IAC/B,CAAC;IAvDH;QAAC,gBAAS,CAAC;YACT,WAAW,EAAE,uDAAuD;YACpE,UAAU,EAAE,CAAC,sDAAwB,CAAC;SACvC,CAAC;;2BAAA;IAqDF,0BAAC;AAAD,CAnDA,AAmDC,IAAA;AAnDY,2BAAmB,sBAmD/B,CAAA","file":"app/components/admin/roles/roles.admin.component.js","sourcesContent":["import {Component, OnInit} from  '@angular/core';\r\nimport {RolesService} from '../../../services/roles.service';\r\nimport {Role} from '../../../models/role.admin.model';\r\nimport {DetailRoleAdminComponent} from './detail/detail.role.admin.component';\r\n\r\n@Component({\r\n  templateUrl: 'app/components/admin/roles/roles.admin.component.html',\r\n  directives: [DetailRoleAdminComponent]\r\n})\r\n\r\nexport class RolesAdminComponent implements OnInit{\r\n  public roles:Array<Role>;\r\n  public roleId:number;\r\n  private showRoleWindow:boolean = false;\r\n\r\n  constructor(private rolesService:RolesService){ }\r\n\r\n  ngOnInit(){\r\n    this.getRoles();\r\n  }\r\n\r\n  getRoles() {\r\n    this.rolesService.getRoles()\r\n      .subscribe(\r\n        data => {this.roles = data.json()},\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  deleteRole(id:string){\r\n    if(confirm(\"Naozaj chcete vymazať túto rolu?\")) {\r\n      this.rolesService.removeRole(id).subscribe(\r\n        data => { },\r\n        error => { alert(error) },\r\n        () => { this.getRoles() }\r\n      )\r\n    }\r\n  }\r\n\r\n  newRole() {\r\n    this.roleId = null;\r\n    this.windowOpen();\r\n  }\r\n\r\n  editRole(id:number){\r\n    for(var i = 0; i < this.roles.length; i++){\r\n      if(this.roles[i].id == id){\r\n        this.roleId = this.roles[i].id;\r\n        break;\r\n      }\r\n    }\r\n    this.windowOpen();\r\n  }\r\n\r\n  windowOpen(){\r\n    this.showRoleWindow = true;\r\n  }\r\n\r\n  windowClose(action: boolean){\r\n    this.showRoleWindow = action;\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}