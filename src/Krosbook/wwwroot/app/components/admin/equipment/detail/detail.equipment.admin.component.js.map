{"version":3,"sources":["app/components/admin/equipment/detail/detail.equipment.admin.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA6D,eAAe,CAAC,CAAA;AAC7E,sCAAwB,0CAA0C,CAAC,CAAA;AACnE,kCAA+B,wCAAwC,CAAC,CAAA;AAQxE;IAWE,uCAAoB,gBAAiC;QAAjC,qBAAgB,GAAhB,gBAAgB,CAAiB;QAR9C,WAAM,GAAW,KAAK,CAAC;QACvB,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAa,IAAI,iCAAS,EAAE,CAAC;QAGvC,gBAAW,GAAG,IAAI,mBAAY,EAAW,CAAC;QAC1C,eAAU,GAAG,IAAI,mBAAY,EAAW,CAAC;IAEM,CAAC;IAE1D,gDAAQ,GAAR;QACE,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,CAAC;YAClB,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,oDAAY,GAAZ;QAAA,iBAKC;QAJC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,SAAS,CAC5D,UAAA,IAAI,IAAK,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA,CAAA,CAAC,EAC1C,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC5B,CAAC;IACJ,CAAC;IAED,oDAAY,GAAZ;QAAA,iBAgBC;QAfC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QACjD,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,EAAC,aAAA,WAAW,EAAG,QAAA,MAAM,EAAC,CAAC,CAAC,CAAC,SAAS,CAClF,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,EACrD;YACE,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,KAAI,CAAC,OAAO,GAAG,4BAA4B,CAAC;YAC5C,KAAI,CAAC,aAAa,GAAG,IAAI,iCAAS,EAAE,CAAC;YACrC,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,GAAG,IAAI,EAArB,CAAqB,EAAE,CAAC,CAAC,CAAC;YAC3C,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qDAAa,GAAb;QAAA,iBAcC;QAbC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;QAC/B,IAAI,WAAW,GAAE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QAChD,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,EAAC,IAAA,EAAE,EAAE,aAAA,WAAW,EAAE,QAAA,MAAM,EAAC,CAAC,CAAC,CAAC,SAAS,CAC1F,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC,CAAA,CAAC,EACpD;YACE,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,KAAI,CAAC,OAAO,GAAG,6BAA6B,CAAC;YAC7C,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CACF,CAAC;IACJ,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAtDD;QAAC,YAAK,EAAE;;sEAAA;IACR;QAAC,aAAM,EAAE;;sEAAA;IACT;QAAC,aAAM,EAAE;;qEAAA;IAfX;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,WAAW,EAAE,6EAA6E;YAC1F,SAAS,EAAE,CAAC,yBAAyB,CAAC;SACvC,CAAC;;qCAAA;IAgEF,oCAAC;AAAD,CA9DA,AA8DC,IAAA;AA9DY,qCAA6B,gCA8DzC,CAAA","file":"app/components/admin/equipment/detail/detail.equipment.admin.component.js","sourcesContent":["import {Component, Input, Output, EventEmitter, OnInit} from '@angular/core';\r\nimport {Equipment} from '../../../../models/equipment.admin.model';\r\nimport {EquipmentService} from '../../../../services/equipment.service';\r\n\r\n@Component({\r\n  selector: \"equipment\",\r\n  templateUrl: 'app/components/admin/equipment/detail/detail.equipment.admin.component.html',\r\n  styleUrls: ['lib/css/modalWindow.css'],\r\n})\r\n\r\nexport class DetailEquipmentAdminComponent implements OnInit {\r\n  public error;\r\n  public success;\r\n  public saving:boolean = false;\r\n  public formReset:boolean = true;\r\n  public equipmentData:Equipment = new Equipment();\r\n\r\n  @Input() equipmentId:number;\r\n  @Output() windowClose = new EventEmitter<boolean>();\r\n  @Output() updateList = new EventEmitter<boolean>();\r\n\r\n  constructor(private equipmentService:EquipmentService) { }\r\n\r\n  ngOnInit(){\r\n    if(this.equipmentId)\r\n      this.getEquipment();\r\n  }\r\n\r\n  getEquipment(){\r\n    this.equipmentService.getEquipment(this.equipmentId).subscribe(\r\n      data => {this.equipmentData = data.json()},\r\n      error => console.log(error)\r\n    );\r\n  }\r\n\r\n  newEquipment(){\r\n    this.saving = true;\r\n    let description = this.equipmentData.description;\r\n    let amount = this.equipmentData.amount;\r\n    this.equipmentService.addEquipment(JSON.stringify({description , amount})).subscribe(\r\n      data => { },\r\n      error => { this.error = error; this.saving = false; },\r\n      () => {\r\n        this.saving = false;\r\n        this.success = 'Vybavenie úspešne pridané.';\r\n        this.equipmentData = new Equipment();\r\n        this.formReset = false;\r\n        setTimeout(() => this.formReset = true, 0);\r\n        this.updateList.emit(true);\r\n      }\r\n    );\r\n  }\r\n\r\n  editEquipment(){\r\n    this.saving = true;\r\n    let id = this.equipmentData.id;\r\n    let description= this.equipmentData.description;\r\n    let amount = this.equipmentData.amount;\r\n    this.equipmentService.editEquipment(id, JSON.stringify({id, description, amount})).subscribe(\r\n      data => { },\r\n      error => { this.error = error; this.saving = false;},\r\n      () => {\r\n        this.saving = false;\r\n        this.success = 'Vybavenie úspešne upravené.';\r\n        this.updateList.emit(true);\r\n      }\r\n    );\r\n  }\r\n\r\n  closeWindow(){\r\n    this.windowClose.emit(false);\r\n  }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}