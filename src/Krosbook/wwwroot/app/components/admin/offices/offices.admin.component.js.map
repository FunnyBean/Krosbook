{"version":3,"sources":["app/components/admin/offices/offices.admin.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAiC,eAAe,CAAC,CAAA;AACjD,+BAA4B,kCAAkC,CAAC,CAAA;AAC/D,8CAAyC,wCAAwC,CAAC,CAAA;AAQlF;IAKE,+BAAoB,aAA2B;QAA3B,kBAAa,GAAb,aAAa,CAAc;QAFvC,qBAAgB,GAAW,KAAK,CAAC;IAES,CAAC;IAEnD,wCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,0CAAU,GAAV;QAAA,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;aAC5B,SAAS,CACR,UAAA,IAAI,IAAK,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA,CAAA,CAAC,EACpC,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACN,CAAC;IAED,4CAAY,GAAZ,UAAa,EAAS;QAAtB,iBAQC;QAPC,EAAE,CAAA,CAAC,OAAO,CAAC,kCAAkC,CAAC,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,SAAS,CAC3C,UAAA,IAAI,IAAM,CAAC,EACX,UAAA,KAAK,IAAM,KAAK,CAAC,KAAK,CAAC,CAAA,CAAC,CAAC,EACzB,cAAQ,KAAI,CAAC,UAAU,EAAE,CAAA,CAAC,CAAC,CAC5B,CAAA;QACH,CAAC;IACH,CAAC;IAED,yCAAS,GAAT;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,0CAAU,GAAV,UAAW,EAAS;QAClB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YACzC,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAA,CAAC;gBAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBACnC,KAAK,CAAC;YACR,CAAC;QACL,CAAC;QACD,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,4CAA4C;IAC5C,0CAAU,GAAV;QACE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IAC/B,CAAC;IAED,6CAA6C;IAC7C,2CAAW,GAAX;QACE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAChC,CAAC;IAzDH;QAAC,gBAAS,CAAC;YACT,WAAW,EAAE,2DAA2D;YACxE,UAAU,EAAE,CAAC,0DAA0B,CAAC;SACzC,CAAC;;6BAAA;IAuDF,4BAAC;AAAD,CArDA,AAqDC,IAAA;AArDY,6BAAqB,wBAqDjC,CAAA","file":"app/components/admin/offices/offices.admin.component.js","sourcesContent":["import {Component, OnInit} from  '@angular/core';\r\nimport {OfficeService} from '../../../services/office.service';\r\nimport {DetailOfficeAdminComponent} from './detail/detail.office.admin.component';\r\nimport {Office} from '../../../models/office.admin.model';\r\n\r\n@Component({\r\n  templateUrl: 'app/components/admin/offices/offices.admin.component.html',\r\n  directives: [DetailOfficeAdminComponent]\r\n})\r\n\r\nexport class OfficesAdminComponent implements OnInit{\r\n  public offices:Array<Office>;\r\n  public officeId:number;\r\n  private showOfficeWindow:boolean = false;\r\n\r\n  constructor(private officeService:OfficeService){ }\r\n\r\n  ngOnInit(){\r\n    this.getOffices();\r\n  }\r\n\r\n  getOffices() {\r\n    this.officeService.getOffices()\r\n      .subscribe(\r\n        data => {this.offices = data.json()},\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  deleteOffice(id:string){\r\n    if(confirm(\"Naozaj chcete vymazať miestnosť?\")) {\r\n      this.officeService.removeOffice(id).subscribe(\r\n        data => { },\r\n        error => { alert(error) },\r\n        () => { this.getOffices() }\r\n      )\r\n    }\r\n  }\r\n\r\n  newOffice() {\r\n    this.officeId = null;\r\n    this.windowOpen();\r\n  }\r\n\r\n  editOffice(id:number){\r\n    for(var i = 0; i < this.offices.length; i++){\r\n        if(this.offices[i].id == id){\r\n          this.officeId = this.offices[i].id;\r\n          break;\r\n        }\r\n    }\r\n    this.windowOpen();\r\n  }\r\n\r\n  //opens detail.office.admin.component window\r\n  windowOpen(){\r\n    this.showOfficeWindow = true;\r\n  }\r\n\r\n  //closes detail.office.admin.component window\r\n  windowClose(){\r\n    this.showOfficeWindow = false;\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}