{"version":3,"sources":["app/components/admin/users/users.admin.component.ts"],"names":[],"mappings":"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","file":"app/components/admin/users/users.admin.component.js","sourcesContent":["import {Component, OnInit} from  '@angular/core';\r\nimport {ROUTER_DIRECTIVES, Router} from '@angular/router';\r\nimport {UserService} from '../../../services/user.service';\r\nimport {DetailUserAdminComponent} from './detail/detail.user.admin.component';\r\nimport {User} from '../../../models/user.admin.model';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'app/components/admin/users/users.admin.component.html',\r\n  directives: [DetailUserAdminComponent]\r\n})\r\n\r\nexport class UsersAdminComponent implements OnInit {\r\n  public users:Array<User>;\r\n  public userId: number;\r\n  public alphabet: Array<string> = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n\r\n  private slovakAlphabet: Array<string> = ['Á', 'Č', 'Ď', 'É', 'Í', 'Ĺ', 'Ľ', 'Ň', 'Ó', 'Š', 'Ť', 'Ú', 'Ž'];\r\n  private englishAlphabet: Array<string> = ['A', 'C', 'D', 'E', 'I', 'L', 'L', 'N', 'O', 'S', 'T', 'U', 'Z'];\r\n  private filterChar: string = '';\r\n  private showOfficeWindow: boolean = false;\r\n  private allUsers: Array<User>;\r\n  \r\n  constructor(private router: Router, private userService: UserService) {\r\n      this.GetUsers();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.GetUsers();\r\n  }\r\n\r\n  GetUsers() {\r\n    this.userService.getUsers()\r\n      .subscribe(\r\n        data => {\r\n            this.allUsers = data.json();\r\n            if (this.filterChar == '')\r\n                this.users = this.allUsers;\r\n            else this.filter();\r\n        },\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  filter(char = this.filterChar) {\r\n      this.filterChar = char;\r\n      this.users = [];\r\n      for (var i = 0; i < this.allUsers.length; i++)\r\n      {\r\n          if (this.allUsers[i].surname[0] == char) {\r\n              this.users.push(this.allUsers[i]);\r\n          }\r\n      }\r\n      var enAIndex = this.englishAlphabet.indexOf(char);\r\n      if (enAIndex != -1 && this.slovakAlphabet[enAIndex]) {\r\n          var newChar = this.slovakAlphabet[enAIndex];\r\n          for (var i = 0; i < this.allUsers.length; i++) {\r\n              if (this.allUsers[i].surname[0] == newChar) {\r\n                  this.users.push(this.allUsers[i]);\r\n              }\r\n          }\r\n      }\r\n  }\r\n\r\n  removeFilter() {\r\n      this.filterChar = '';\r\n      this.users = this.allUsers;\r\n  }\r\n\r\n  newUser(){\r\n    this.userId = null;\r\n    this.windowOpen();\r\n  }\r\n\r\n  editUser(id:number){\r\n    for(var i = 0; i < this.users.length; i++){\r\n      if(this.users[i].id == id){\r\n        this.userId = this.users[i].id;\r\n        break;\r\n      }\r\n    }\r\n    this.windowOpen();\r\n    window.scrollTo(0,0);  /*scroll top*/\r\n  }\r\n\r\n  removeUser(id:string) {\r\n    if(confirm(\"Naozaj chcete vymazať používateľa?\")) {\r\n      this.userService.removeUser(id).subscribe(\r\n        data => {\r\n        },\r\n        error => {\r\n          alert(error)\r\n        },\r\n        () => {\r\n          this.GetUsers();\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  sendInvitation(id: number) {\r\n      this.userService.sendInvitation(id).subscribe(\r\n          data => {\r\n              this.GetUsers();\r\n          },\r\n          error => { console.log(error) }\r\n      );\r\n  }\r\n\r\n  //opens detail.office.admin.component window\r\n  windowOpen(){\r\n    this.showOfficeWindow = true;\r\n  }\r\n\r\n  //closes detail.office.admin.component window\r\n  windowClose(action: boolean){\r\n    this.showOfficeWindow = action;\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":"/source/"}